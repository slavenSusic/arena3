---
import Testimonial from "./Testimonial.astro";
import Counters from "./Counters.jsx";
import Partners from "./Partners.astro";
import MainHeroSection from "./MainHeroSection.astro";
import Djelatnosti from "./Djelatnosti.astro";
import CTA from "./CTA.astro";
import Beyond from "./Beyond.astro";

---
<!-- Adjust the classes within media queries based on your specific responsive design requirements -->
<div class="md:pb-0 -z-10 animated">
  <MainHeroSection />
</div>

<!-- Partners section  -->
<div class="z-10 animated">
  <Partners />
</div>

<section class="py-10 md:px-5 dark:border-0 rounded-xl animated relative ">
  <div class="mx-auto flex border dark:border-0 rounded-xl flex-col-reverse lg:flex-row justify-center items-center">
    <div class="text-gray-700 align-text-top animated">
      <Djelatnosti />
    </div>
    <div class=" md:w-1/2 -z-10">
    <div
      aria-hidden="true"
      class="absolute inset-0 m-auto grid h-3/5 w-2/5 grid-cols-2 - opacity-40 dark:opacity-20"
    >
      <div
        class="h-full rounded-full bg-gradient-to-br from-green-300 to-purple-green blur-[150px] dark:from-blue-700"
      >
      </div>
      <div
        class="h-full bg-gradient-to-r from-cyan-400 to-primary blur-[106px] dark:to-indigo-600"
      >
      </div>
    </div>
    <div class="px-5 dark:text-gray-800 lg:h-full animated">
      <div class="relative">
        
         
      
        <div>
          <div class="text-center w-full">
            <h1 class="text-3xl lg:text-6xl max-w-lg mx-auto md:text-5xl font-bold dark:text-gray-100 text-gray-700 relative">
              Na≈°e djelatnosti
            </h1>
            <div class="text-center mb-10">
              <span class="inline-block w-1 h-1 rounded-full bg-green-500 ml-1"></span>
              <span class="inline-block w-3 h-1 rounded-full bg-green-500 ml-1"></span>
              <span class="inline-block w-40 h-1 rounded-full bg-green-500"></span>
              <span class="inline-block w-3 h-1 rounded-full bg-green-500 ml-1"></span>
              <span class="inline-block w-1 h-1 rounded-full bg-green-500 ml-1"></span>
            </div>
          </div>
        </div>
      </div>
    </div>
    
      <div class="absolute w-full left-1/2 top-0 -translate-x-1/2 blur-3xl xl:-top-90 xl:right-100 -z-10" aria-hidden="true">
        <div class="aspect-[1155/678] w-1/2 x md:w-[10.1875rem] bg-gradient-to-tr from-blue-200 to-[#352bc5] opacity-30" style="clip-path: polygon(74.1% 44.1%, 100% 61.6%, 97.5% 26.9%, 85.5% 0.1%, 80.7% 2%, 72.5% 32.5%, 60.2% 62.4%, 52.4% 68.1%, 47.5% 58.3%, 45.2% 34.5%, 27.5% 76.7%, 0.1% 64.9%, 17.9% 100%, 27.6% 76.8%, 76.1% 97.7%, 74.1% 44.1%)"></div>
      </div>

</section>

<div class="py-20 space-y-20 pb-22 animated md:px-5">
  <Beyond />
  <div class="flex flex-col lg:flex-row items-center justify-between animated1">
    <div class="w-full">
      <Counters client:visible />
    </div>
  </div>
</div>

<!-- <div class="animated">
  <CTA />
</div> -->

<div class="pb-10 animated">
  <Testimonial />
</div>



<style>
  .animated {
  opacity: 0;
  transform: translateY(100px);
  transition: opacity 1s ease, transform 1s ease;
}
.animated {
  opacity: 0;
  transform: translateY(100px);
  transition: opacity 1s ease, transform 1s ease;
}

.animated.visible {
  opacity: 1;
  transform: translateX(0);
}
</style>

<script is:inline>
  function observeAnimatedElements() {
    const targets = document.querySelectorAll('.animated');

    function handleIntersection(entries) {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          observer.unobserve(entry.target); // Stops observing the current target
        } else {
          entry.target.classList.remove('visible');
        }
      });
    }

    const observer = new IntersectionObserver(handleIntersection);

    targets.forEach((target) => {
      observer.observe(target);
    });
  }

  // Call the function when the page loads or content changes
  observeAnimatedElements();
</script>